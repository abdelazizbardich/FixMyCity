<div class="body">
  <app-jumbotron [title]="'Specialisations overview'">
    <button (click)="callCreate()">New Specialisation</button>
  </app-jumbotron>
  <div class="content">
    <div class="datatable">
      <app-datatable [cols]="['','Name','Problem','created at','Actions']" [data]="specialisationsTable" (onView)="callView($event)" (onEdit)="callEdit($event)" (onDelete)="callDelete($event)" ></app-datatable>
    </div>
  </div>

  <!-- View popup -->
<app-popup *ngIf="isViewing" (onClose)="callClose()" [title]="'View specialisation'">
  <form>
    <div class="form-row">
      <div class="form-group">
        <label class="form-label" for="">Problem</label>
        <input class="form-field" type="text"  disabled [value]="activeSpecialisation.name">
      </div>
      <div class="form-row">
        <div class="form-group">
          <label class="form-label" for=""></label>
          <img [src]="activeSpecialisation.icon" width="70" alt="">
        </div>
      </div>
    </div>
  </form>
</app-popup>
  <!-- Create popup -->
<app-popup *ngIf="isCreating" (onClose)="callClose()" [title]="'Add new specialisation'">
  <form>
    <div class="form-row">
      <div class="form-group">
        <label class="form-label" for="">Specialisation</label>
        <input class="form-field" (change)="setValue('name',$event)" type="text">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label class="form-label" for="icon">Icon</label>
        <span>{{ formData.icon }}</span>
        <input type="file" (change)="setValue('icon',$event)" id="icon" class="form-field">
        <img [src]="formData.icon" width="170" alt="">
      </div>
    </div>
  </form>
</app-popup>
<!-- Edit popup -->
<app-popup *ngIf="isEditing" (onUpdate)="edit()" (onClose)="callClose()" [title]="'Edit specialisation'">
  <form>
    <div class="form-row">
      <div class="form-group">
        <label class="form-label" for="">Specialisation</label>
        <input class="form-field" (change)="setValue('name',$event)" type="text" [value]="activeSpecialisation.name">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label class="form-label" for="icon">Icon</label>
        <span>{{ formData.icon }}</span>
        <input type="file" (change)="setValue('icon',$event)" id="icon" class="form-field" [value]="activeSpecialisation.icon">
        <img [src]="activeSpecialisation.icon" width="170" alt="" value="activeSpecialisation.icon">
      </div>
    </div>
  </form>
</app-popup>
<!-- Delete popup -->
<app-popup *ngIf="isDeletting" (onDelete)="delete()" (onClose)="callClose()" [title]="'Delete specialisation'">
  <p>Are you sure you want to delete this administration?</p>
</app-popup>
</div>
